# Cae-Case — Game Rules (Source of Truth)

Этот документ является официальной спецификацией игры.
Код бота обязан следовать этим правилам.
При любых изменениях логики этот файл имеет приоритет над догадками разработчика или ИИ.

---

## 1. Общая концепция

Игра — это Telegram-бот с кейсами, машинами и экономикой.

Игрок:
- зарабатывает валюту
- открывает кейсы
- получает машины
- хранит их в гараже
- может играть как в личных сообщениях, так и в группах

---

## 2. Кейсы

### 2.1 Как открываются
Кейсы можно открывать:
- в личных сообщениях боту
- прямо в группе, обычным текстом

Триггеры открытия в группе:
Бот **обязан** реагировать на эти слова в группах и открывать кейс без перехода в ЛС.

---

### 2.2 Принцип выпадения

Каждый кейс:
- случайно выбирает карту машины
- имеет редкости:
  - common
  - rare
  - epic
  - legendary (если есть)

Редкость влияет на шанс выпадения и стоимость.

Редкие и эпические машины должны выпадать **значительно реже**, чем обычные.

---

## 3. Экономика

Экономика должна быть **анти-абьюзной**.

Основные правила:
- нельзя фармить валюту бесконечно бесплатно
- кейсы должны стоить ощутимо
- редкие машины должны быть ценными

Группа не должна быть способом быстрого фарма.

---

## 4. Гараж

У каждого игрока есть гараж.

Гараж:
- хранит все полученные машины
- должен показывать:
  - название машины
  - редкость
  - изображение

Пользователь может смотреть гараж:
- в личных сообщениях
- по кнопке
- по команде

---

## 5. UI и тексты

Все тексты сообщений бота:
- эмодзи
- форматирование
- длина
- стиль

являются частью **дизайна игры**.

Запрещено:
- сокращать тексты
- переписывать формулировки
- удалять эмодзи
- упрощать сообщения

Можно:
- добавлять новые тексты
- копировать существующий стиль

ИИ и разработчик **не имеют права** «улучшать» тексты по своему вкусу.

---

## 6. Группы

Бот обязан корректно работать в группах:
- принимать обычные текстовые сообщения
- открывать кейсы по словам
- не требовать перехода в ЛС

Логика в группе не должна отличаться от ЛС, кроме анти-абьюза.

---

## 7. Source of Truth

При конфликте:
- между кодом
- между логикой
- между догадками ИИ

**Этот файл всегда прав.**

Если что-то не описано — оно не считается официальной логикой игры.
